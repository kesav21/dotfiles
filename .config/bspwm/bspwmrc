#!/bin/sh

# fix cursor
xsetroot -cursor_name left_ptr

# split desktops based on monitors
if [ "$(polybar -m | wc -l)" -eq 2 ]; then
	echo 'k1'
	bspc monitor 'HDMI-1' -d 1 2 3 4 5 6
	bspc monitor 'eDP-1' -d 7 8 9
else
	echo 'k2'
	bspc monitor 'eDP-1' -d 1 2 3 4 5 6 7 8 9
fi

# launch polybar after settings monitors
launchbar &

masterlayout &
bspc config external_rules_command "$XDG_CONFIG_HOME"/bspwm/external_rules
bspc config click_to_focus button1
bspc config pointer_modifier mod4
bspc config pointer_action1 move
bspc config pointer_action3 resize_corner
bspc config split_ratio 0.50
bspc config removal_adjustment false

bspc config normal_border_color '#282828'
bspc config active_border_color '#504945'
bspc config focused_border_color '#a89984'

bspc config border_width 2
bspc config window_gap 10

# set window rules
bspc rule -a \* state=tiled
bspc rule -a 'Pinentry-gtk-2' state=floating
# bspc rule -a 'Eclipse' state=floating
bspc rule -a 'fzf' -o state=floating
bspc rule -a 'Wicd-client.py' -o state=floating
